import './polyfills.server.mjs';
import{H as h,X as d,m as f}from"./chunk-TM2AOT35.mjs";import{y as v}from"./chunk-LP3BODNI.mjs";import{m as g}from"./chunk-UAYCDQAG.mjs";import{Ba as m}from"./chunk-PCV3PIYB.mjs";import{W as u,_ as i,g as o,x as l,za as p}from"./chunk-HAA2XXW7.mjs";var b=class n{constructor(r,e,j,a,L){this.router=r;this.route=e;this.translate=j;this.title=a;this.platformId=L;this.router.events.pipe(l(t=>t instanceof f)).subscribe(()=>{let t=this.route.snapshot.firstChild?.paramMap.get("lang")||"ar";this.selectedLanguage$.next(t),this.isArabic$.next(t==="ar"),m(this.platformId)&&(document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"),this.translate.use(t);let s=this.route.root;for(;s.firstChild;)s=s.firstChild;let c=s.snapshot.data.titleKey;c&&this.translate.get(c).subscribe(A=>{let I=A.toUpperCase();this.title.setTitle(I)})})}selectedLanguage$=new o("ar");isArabic$=new o(!1);getLanguage(){return this.selectedLanguage$.asObservable()}getCurrentLanguage(){return this.selectedLanguage$.value}getIsArabic(){return this.isArabic$.asObservable()}getCurrentIsArabic(){return this.isArabic$.value}changeLanguage(r,e){let a=(e.includes("?")?e.split("?")[0]:e).split("/");a.length>1&&(a[1]=r),this.router.navigate([a.join("/")]),this.translate.use(r)}static \u0275fac=function(e){return new(e||n)(i(d),i(h),i(v),i(g),i(p))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};export{b as a};
