import './polyfills.server.mjs';
import{H as d,X as b,m as p}from"./chunk-Q2ZHDY3A.mjs";import{y as v}from"./chunk-24HTQ6WE.mjs";import{m as g}from"./chunk-ITAZQARC.mjs";import{Ba as f}from"./chunk-5FBE7CFO.mjs";import{W as h,_ as i,g as o,x as u,za as m}from"./chunk-F7A3IF3J.mjs";var B=(()=>{class r{router;route;translate;title;platformId;selectedLanguage$=new o("ar");isArabic$=new o(!1);constructor(a,t,l,s,j){this.router=a,this.route=t,this.translate=l,this.title=s,this.platformId=j,this.router.events.pipe(u(e=>e instanceof p)).subscribe(()=>{let e=this.route.snapshot.firstChild?.paramMap.get("lang")||"ar";this.selectedLanguage$.next(e),this.isArabic$.next(e==="ar"),f(this.platformId)&&(document.documentElement.lang=e,document.documentElement.dir=e==="ar"?"rtl":"ltr"),this.translate.use(e);let n=this.route.root;for(;n.firstChild;)n=n.firstChild;let c=n.snapshot.data.titleKey;c&&this.translate.get(c).subscribe(I=>{let L=I.toUpperCase();this.title.setTitle(L)})})}getLanguage(){return this.selectedLanguage$.asObservable()}getCurrentLanguage(){return this.selectedLanguage$.value}getIsArabic(){return this.isArabic$.asObservable()}getCurrentIsArabic(){return this.isArabic$.value}changeLanguage(a,t){let s=(t.includes("?")?t.split("?")[0]:t).split("/");s.length>1&&(s[1]=a),this.router.navigate([s.join("/")]),this.translate.use(a)}static \u0275fac=function(t){return new(t||r)(i(b),i(d),i(v),i(g),i(m))};static \u0275prov=h({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{B as a};
//# sourceMappingURL=chunk-GU25JYPH.mjs.map
